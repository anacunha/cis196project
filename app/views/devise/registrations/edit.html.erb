<h2>Edit Profile</h2>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :class => 'form-horizontal', :method => :put }) do |f| %>
  <%= devise_error_messages! %>

  <div class="control-group">
    <%= f.label :name, class: 'control-label' %>
    <div class="controls">
      <%= f.text_field :name %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :email, class: 'control-label' %>
    <div class="controls">
      <%= f.text_field :email %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :avatar, class: 'control-label'%>
    <div class="controls">
      <% if @user.avatar.url != '/avatars/original/missing.png' %>
        <%= image_tag @user.avatar.url(:thumb) %>
      <% end %>
      <%= f.file_field :avatar %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :date_of_birth, class: 'control-label' %>
    <div class="controls">
      <%= f.date_select :date_of_birth, :start_year => 1900, :end_year => Time.now.year, :include_blank => true %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :gender, class: 'control-label' %>
    <div class="controls">
      <div class="btn-group">
        <label for="user_gender">
          <%= radio_button_tag('user[gender]', 'Male', (@user.gender == 'Male')) %>
          Male
        </label>
        <label for="user_gender">
          <%= radio_button_tag('user[gender]', 'Female', (@user.gender == 'Female')) %>
          Female
        </label>
      </div>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :telephone, class: 'control-label' %>
    <div class="controls">
      <%= f.text_field :telephone, placeholder: 'Telephone' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :password, class: 'control-label' %>
    <div class="controls">
      <%= f.password_field :password, :autocomplete => "off", placeholder: 'New Password' %> <i>(leave blank if you don't want to change it)</i>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :password_confirmation, class: 'control-label' %>
    <div class="controls">
      <%= f.password_field :password_confirmation, placeholder: 'Password Confirmation' %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :current_password, class: 'control-label' %>
    <div class="controls">
      <%= f.password_field :current_password, placeholder: 'Current Password' %> <i>(we need your current password to confirm your changes)</i>
    </div>
  </div>
  <div class="form-actions">
    <%= f.submit "Update", class: 'btn btn-primary' %>
  </div>
<% end %>

<h3>Cancel my account</h3>

<p>Unhappy? <%= link_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete %>.</p>

<%= link_to "Back", :back %>
